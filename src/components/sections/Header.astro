---
// Header component
import { Image } from 'astro:assets';
import logoSrc from '../../assets/logos/Logo.jpg';
---

<!-- Header Principal (Panel Superior) -->
<div class="bg-servir-blue text-white text-center py-2 text-sm font-medium">
    <div class="px-4 truncate">
        ServirPRO: Tu tranquilidad asegurada | +10 años de experiencia y miles de clientes protegidos.
    </div>
</div>

<!-- Navegación Principal -->
<header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">

            <!-- Botón de Hamburguesa (Solo Móvil) -->
            <button id="menu-button" class="lg:hidden p-2 rounded-md  hover:bg-gray-100 transition-colors">
                <!-- Icono de Menú Hamburguesa con Iconify -->
                <iconify-icon   width="20" icon="fa6-solid:bars" class="w-8 h-8 text-servir-blue flex items-center justify-center "></iconify-icon>
            </button>

            <!-- Logo (Centrado en Móvil) -->
            <a href="#"
                class="flex-shrink-0 lg:ml-0 md:absolute md:left-1/2 md:-translate-x-1/2 lg:static lg:transform-none">
                <Image src={logoSrc} alt="ServirPRO Seguros" class="h-12 w-auto" />
            </a>

            <!-- Navegación de Escritorio -->
            <nav class="hidden lg:flex lg:space-x-8 items-center">
                <a href="#"
                    class="text-servir-blue font-bold px-3 py-2 rounded-md text-sm  transition duration-150">Inicio</a>

                <!-- Dropdown Seguros -->
                <div class="dropdown-group" data-dropdown="seguros">
                    <button
                        class="gray-text font-bold hover:text-servir-blue px-3 py-2 rounded-md text-sm  transition duration-150 flex items-center">
                        Seguros
                        <!-- Icono de flecha abajo con Iconify -->
                        <iconify-icon icon="fa6-solid:chevron-down" class="dropdown-arrow w-3 h-3 ml-2 transition-transform"></iconify-icon>
                    </button>
                    <div class="dropdown-menu">
                        <div class="py-1" role="menu" aria-orientation="vertical">
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">Salud</a>
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">Vida</a>
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">Autos</a>
                        </div>
                    </div>
                </div>

                <!-- Dropdown Seguridad Social -->
                <div class="dropdown-group" data-dropdown="seguridad">
                    <button
                        class="gray-text font-bold hover:text-servir-blue px-3 py-2 rounded-md text-sm transition duration-150 flex items-center">
                        Seguridad social
                        <!-- Icono de flecha abajo con Iconify -->
                        <iconify-icon icon="fa6-solid:chevron-down" class="dropdown-arrow w-3 h-3 ml-2 transition-transform"></iconify-icon>
                    </button>
                    <div class="dropdown-menu">
                        <div class="py-1">
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">Pensiones</a>
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">ARL</a>
                        </div>
                    </div>
                </div>

                <!-- Dropdown Empresas -->
                <div class="dropdown-group" data-dropdown="empresas">
                    <button
                        class="gray-text font-bold hover:text-servir-blue px-3 py-2 rounded-md text-sm  transition duration-150 flex items-center">
                        Empresas
                        <!-- Icono de flecha abajo con Iconify -->
                        <iconify-icon icon="fa6-solid:chevron-down" class="dropdown-arrow w-3 h-3 ml-2 transition-transform"></iconify-icon>
                    </button>
                    <div class="dropdown-menu">
                        <div class="py-1">
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">Servicios
                                corporativos</a>
                            <a href="#" class="block px-4 py-2 text-sm gray-text hover:text-servir-blue hover:bg-blue-50 transition duration-150">Planes
                                grupales</a>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Icono de Búsqueda y Botón de Contacto -->
            <div class="flex items-center space-x-3">
                <!-- Botón de Búsqueda (Solo Móvil) -->
                <button id="search-button" class="lg:hidden p-2 rounded-md  hover:bg-gray-100 transition-colors">
                    <!-- Icono de lupa con Iconify -->
                    <iconify-icon icon="fa6-solid:magnifying-glass" width="20" class="w-8 h-8 flex items-center justify-center text-servir-blue"></iconify-icon>
                </button>

                <!-- Botón Contáctanos (Solo Desktop) -->
                <a href="#"
                    class="hidden lg:block bg-servir-blue text-white px-12 py-4 rounded-full font-semibold hover:transition-all duration-300 transform hover:scale-105 active:scale-95">
                    Contáctanos
                </a>
            </div>
        </div>

        <!-- Campo de Búsqueda Expandible (Solo Móvil) -->
        <div id="search-bar" class="hidden lg:hidden py-2 border-t border-gray-200">
            <input type="search" placeholder="Buscar en ServirPRO..."
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-servir-blue">
        </div>
    </div>

    <!-- Menú Móvil (Fuera de la estructura principal para cubrir toda la pantalla) -->
    <div id="mobile-menu" class="hidden lg:hidden absolute top-20 w-full bg-white shadow-xl">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <a href="#"
                class="block px-3 py-2 rounded-md text-base font-medium text-servir-blue bg-blue-50">Inicio</a>

            <!-- Acordeón Seguros -->
            <div class="border-b border-gray-100">
                <button id="mobile-seguros-btn"
                    class="w-full text-left flex justify-between items-center px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-100 rounded-md">
                    Seguros
                    <iconify-icon icon="fa6-solid:chevron-down" class="icon w-4 h-4 transform transition-transform" id="mobile-seguros-icon"></iconify-icon>
                </button>
                <div id="mobile-seguros-content" class="hidden pl-4 pb-2 space-y-1">
                    <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">Salud</a>
                    <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">Vida</a>
                    <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">Autos</a>
                </div>
            </div>

            <!-- Acordeón Seguridad Social -->
            <div class="border-b border-gray-100">
                <button id="mobile-seguridad-btn"
                    class="w-full text-left flex justify-between items-center px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-100 rounded-md">
                    Seguridad social
                    <iconify-icon icon="fa6-solid:chevron-down" class="icon w-4 h-4 transform transition-transform" id="mobile-seguridad-icon"></iconify-icon>
                </button>
                <div id="mobile-seguridad-content" class="hidden pl-4 pb-2 space-y-1">
                    <a href="#"
                        class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">Pensiones</a>
                    <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">ARL</a>
                </div>
            </div>

            <!-- Acordeón Empresas -->
            <div class="border-b border-gray-100">
                <button id="mobile-empresas-btn"
                    class="w-full text-left flex justify-between items-center px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-100 rounded-md">
                    Empresas
                    <iconify-icon icon="fa6-solid:chevron-down" class="icon w-4 h-4 transform transition-transform" id="mobile-empresas-icon"></iconify-icon>
                </button>
                <div id="mobile-empresas-content" class="hidden pl-4 pb-2 space-y-1">
                    <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">Servicios
                        corporativos</a>
                    <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded-md">Planes
                        grupales</a>
                </div>
            </div>

            <!-- Botón Contáctanos para Móvil -->
            <div class="mt-4 px-3">
                <a href="#"
                    class="block w-full text-center bg-servir-blue text-white px-12 py-4 rounded-full font-semibold hover:transition-all duration-300 transform hover:scale-105 active:scale-95">
                    Contáctanos
                </a>
            </div>

        </div>
    </div>